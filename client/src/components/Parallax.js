!function(t){function r(){return!0!==c&&void 0!==window.DeviceOrientationEvent}function e(t){var r=t.gamma,e=t.beta;if(90===Math.abs(window.orientation)){var n=r;r=e,e=n}return window.orientation<0&&(r=-r,e=-e),{x:r-(g=null===g?r:g),y:e-(m=null===m?e:m)}}function n(t){if(!((new Date).getTime()<a+o)){a=(new Date).getTime();var n=t.pageX-0,g=t.pageY-0;if(function(t){if(0===t.offsetWidth||0===t.offsetHeight)return!1;for(var r=document.documentElement.clientHeight,e=t.getClientRects(),n=0,o=e.length;o>n;n++){var a=e[n];if(a.top>0?a.top<=r:a.bottom>0&&a.bottom<=r)return!0}return!1}(i[0].obj.get(0).parentNode)){if(r()){if(void 0===t.gamma)return void(c=!0);var m=e(t);n=m.x/s,g=m.y/s,n=((n=l>n?l:n>f?f:n)+1)/2,g=((g=l>g?l:g>f?f:g)+1)/2}var p,d,v,y,b,h=document.body.getBoundingClientRect(),x=n/(!0===r()?f:h.width),w=g/(!0===r()?f:h.height);for(d=i.length;d--;)p=i[d],u&&!p.background?(v=p.transformStartX+p.inversionFactor*(p.xRange*x),y=p.transformStartY+p.inversionFactor*(p.yRange*w),b=p.transformStartZ,p.obj.css({transform:"translate3d("+v+"px,"+y+"px,"+b+"px)"})):(v=p.startX+p.inversionFactor*(p.xRange*x),y=p.startY+p.inversionFactor*(p.yRange*w),p.background?p.obj.css({"background-position":v+"px "+y+"px"}):p.obj.css({left:v,top:y}))}}}var o=40,a=(new Date).getTime(),i=[],s=30,f=1,l=-1,g=null,m=null,c=!1;t.plaxify=function(t,r){return function(){var e=-1;r.xRange=r.xRange?parseInt(r.xRange):0,r.yRange=r.yRange?parseInt(r.yRange):0,r.zRange=r.zRange?parseInt(r.zRange):0;for(var n=0;n<i.length;n++)this===i[n].obj.get(0)&&(e=n);if(r.inversionFactor=r.invert?-1:1,r.obj={get:function(){return t},css:function(r){if("string"==typeof r){var e=r.replace(/-+(.)?/g,function(t,r){return r?r.toUpperCase():""});return t.style[e]||getComputedStyle(t,"").getPropertyValue(r)}var n="";for(var o in r){var a=r[o];a||0===a?n+=o+":"+a+";":t.style.removeProperty(r)}t.style.cssText+=";"+n},position:function(){var r=t.getBoundingClientRect(),e=t.offsetParent?t.offsetParent.getBoundingClientRect():{top:0,left:0};return{left:r.left-e.left+window.pageXOffset,top:r.top-e.top+window.pageYOffset}}},!r.background){var o=r.obj.position(),a=function(t){var r=[0,0,0],e=t.css("-webkit-transform")||t.css("-moz-transform")||t.css("-ms-transform")||t.css("-o-transform")||t.css("transform");if("none"!==e){var n=e.split("(")[1].split(")")[0].split(","),o=0,a=0,i=0;16==n.length?(o=parseFloat(n[n.length-4]),a=parseFloat(n[n.length-3]),i=parseFloat(n[n.length-2])):(o=parseFloat(n[n.length-2]),a=parseFloat(n[n.length-1]),i=0),r=[o,a,i]}return r}(r.obj);r.obj.css({transform:a.join()+"px",top:o.top+"px",left:o.left+"px",right:"",bottom:""}),r.originX=r.startX=o.left,r.originY=r.startY=o.top,r.transformOriginX=r.transformStartX=a[0],r.transformOriginY=r.transformStartY=a[1],r.transformOriginZ=r.transformStartZ=a[2]}r.startX-=r.inversionFactor*Math.floor(r.xRange/2),r.startY-=r.inversionFactor*Math.floor(r.yRange/2),r.transformStartX-=r.inversionFactor*Math.floor(r.xRange/2),r.transformStartY-=r.inversionFactor*Math.floor(r.yRange/2),r.transformStartZ-=r.inversionFactor*Math.floor(r.zRange/2),e>=0?i.splice(e,1,r):i.push(r)}()};var u=function(){var t,r=document.createElement("p"),e={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var n in document.body.insertBefore(r,null),e)void 0!==r.style[n]&&(r.style[n]="translate3d(1px,1px,1px)",t=window.getComputedStyle(r).getPropertyValue(e[n]));return document.body.removeChild(r),void 0!==t&&t.length>0&&"none"!==t}();document.body.addEventListener("mousemove",n),r()&&(window.ondeviceorientation=n)}(window);for(var layer,layers=document.querySelectorAll(".js-plaxify"),i=0;layer=layers[i];i++)window.plaxify(layer,{xRange:layer.getAttribute("data-xrange"),yRange:layer.getAttribute("data-yrange"),invert:"true"===layer.getAttribute("data-invert")});